<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Order</title>
</head>
<body>
<div th:insert="~{fragment :: header}"></div>
<form th:action="@{/orders/{orderId}/update(orderId=${order.id})}" method="post" th:object="${order}">
    <label for="city">City:
        <input id="city" type="text" name="city" th:value="*{city}">
    </label><br>
    <label for="street">Street:
        <input id="street" type="text" name="street" th:value="*{street}">
    </label><br>
    <label for="building">Building:
        <input id="building" type="number" name="building" th:value="*{building}">
    </label><br>
    <label for="deliveryDate">DeliveryDate:
        <input id="deliveryDate" type="date" name="deliveryDate" th:value="*{deliveryDate}">
    </label><br>
    <label for="userId">User id:
        <input id="userId" type="text" readonly name="userId" th:value="${userid}">
    </label><br>
    <label for="status">Status
        <input id="status" type="text" readonly name="status" th:value="${order.status.name()}">
    </label>
    <div th:each="paymentCondition : ${payments}">
        <input th:id="${paymentCondition}" type="radio" name="paymentCondition" th:value="${paymentCondition}"
               th:checked="${paymentCondition == order.paymentCondition}">
        <label th:for="${paymentCondition}" th:text="${paymentCondition}">Role name</label>
    </div>
    <button type="submit" th:if="${order.status.name() == 'IN_PROGRESS'}">Update</button>
    <br>
</form>
List of products:
<div th:each="shoppingcart : ${shoppingcarts}">Product:
  <a th:text="|id: ${shoppingcart.id}. category: ${shoppingcart.product.catalog.category}. count: ${count14}|">shoppingcart</a>
  <form th:action="@{/shoppingcarts/{shid}/delete(shid=${shoppingcart.id})}"
        th:if="${order.status.name() == 'IN_PROGRESS'}" method="post">
    <button type="submit">Remove product</button>
  </form>
</div>
<div th:each="statistic : ${statistics}">
    <a th:text="|order sum: ${statistic.getSum()*count14}|"></a>
</div>
<form th:action="@{/orders/{orderId}/setStatus(orderId=${order.id})}" th:if="${order.status.name() == 'IN_PROGRESS'}"
      method="post">
    <button type="submit">Confirm</button>
</form>
<br>
<form th:action="@{/orders/{orderId}/delete(orderId=${order.id})}" method="post">
    <button type="submit">Remove order</button>
</form>
<div th:insert="~{fragment :: footer}"></div>
</body>
</html>